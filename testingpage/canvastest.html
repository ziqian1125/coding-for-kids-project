<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    #canvas{
        outline: 1px solid #000;
    }





    .Toast.blue {
        background: #202540;
        display: flex; 
        border-radius: 16px; 
        margin-bottom: 8px;
        align-items: center; 
        justify-content: center; 
        padding: 8px 24px;

    }
</style>


<body>
    <div style="display: none;">
        <img id="scream" src="assets/img_the_scream.jpeg">
        <img id="imgfront" src="assets/img/avatar/sonwmanfront.png">
        <img id="imgback" src="assets/img/avatar/sonwmanback.png">
        <img id="imgleft" src="assets/img/avatar/sonwmanleft.png">
        <img id="imgright" src="assets/img/avatar/sonwmanright.png">
    </div>
 

    <canvas id="canvas" height="500" width="1400"></canvas>

    <div id="hint" class="Layout Toast blue" tabindex="0" style="visibility: hidden;"><div class="Layout" tabindex="0" style="display: flex; margin-top: 4px; margin-bottom: 4px;"><p class="Text h6 medium noWrap">Press x for shared document</p></div></div>


<script>
    var canvas = document.querySelector("#canvas")
    var context = canvas.getContext("2d");
    var img=document.getElementById("scream");
    var imgfront = document.getElementById("imgfront");
    var imgleft = document.getElementById("imgleft");
    var imgright = document.getElementById("imgright");
    var imgback = document.getElementById("imgback");


    var xPos = 0;
    var yPos = 0;

    // canvas.width = canvas.width;

    imgfront.onload = function()
    {
        context.drawImage(imgfront,0,0);
    }

    // context.rect(xPos,yPos,50,50);
    // context.stroke();

    function move(e){

        console.log("我是横坐标")
        console.log(xPos);
        console.log("我是纵坐标")
        console.log(yPos);




        if(e.keyCode==39&&xPos!=1350){
            xPos+=50
            // console.log(xPos);

            context.clearRect(0, 0, 1400, 500);
            context.drawImage(imgright,xPos,yPos);

            position(xPos,yPos)

        }

        if(e.keyCode==37&&xPos!=0){
            xPos-=50

            context.clearRect(0, 0, 1400, 500);
            context.drawImage(imgleft,xPos,yPos);

            position(xPos,yPos)

        }

        if(e.keyCode==38&&yPos!=0){
            yPos-=50

            context.clearRect(0, 0, 1400, 500);
            context.drawImage(imgback,xPos,yPos);

            position(xPos,yPos)

        }

        if(e.keyCode==40&&yPos!=450){
            yPos+=50

            console.log("向下走")
            context.clearRect(0, 0, 1400, 500);
            context.drawImage(imgfront,xPos,yPos);


            position(xPos,yPos)
        }


        // canvas.width = canvas.width;
        // context.drawImage(img,xPos,yPos);

        // context.rect(xPos,yPos,50,50);
        // context.stroke();
    }

    
    
    
    function position(x,y){
        if(x ==0 && y ==50){
                document.getElementById("hint").style.visibility="visible";
        }else{
            document.getElementById("hint").style.visibility="hidden";
        }
    }

    document.onkeydown = move;



</script>
    
</body>
</html>